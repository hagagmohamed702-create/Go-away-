#!/bin/bash

echo "๐ ุจุฏุก ุชุดุบูู ูุธุงู ุงููุญุงุณุจุฉ..."
echo "=================================="

# ุงูุชุญูู ูู ูุฌูุฏ Node.js
if ! command -v node &> /dev/null; then
    echo "โ Node.js ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Node.js ุฃููุงู"
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ npm
if ! command -v npm &> /dev/null; then
    echo "โ npm ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช npm ุฃููุงู"
    exit 1
fi

# ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุงููุดุฑูุน
cd "$(dirname "$0")"

echo "๐ฆ ุชุซุจูุช ุงููุชุทูุจุงุช..."
npm install

echo "๐งน ุชูุธูู ุงููููุงุช ุงููุคูุชุฉ..."
rm -rf .next

echo "๐ ุจูุงุก ุงููุดุฑูุน..."
npm run build

echo "๐ ุชุดุบูู ุงูุฎุงุฏู..."
echo "=================================="
echo "โ ุงููุธุงู ูุชุงุญ ุนูู: http://localhost:3000"
echo "๐ ูุฅููุงู ุงูุฎุงุฏู: ุงุถุบุท Ctrl+C"
echo "=================================="

npm run dev