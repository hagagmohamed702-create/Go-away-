# نظام إدارة محاسبي حديث وشامل

## 📋 نظرة عامة

نظام محاسبي متطور وحديث مصمم خصيصاً لإدارة العقارات والوحدات السكنية والشركاء بشكل شامل ومتكامل. يتميز النظام بواجهة مستخدم عصرية وأداء سريع مع دعم كامل للغة العربية.

## ✨ المميزات الرئيسية

### 🏢 إدارة العقارات والوحدات
- **الوحدات السكنية**: إدارة شاملة للوحدات (سكني، تجاري، مدارس، أخرى)
- **أنواع المجموعات**: تصنيف الوحدات (سكنية، تجارية)
- **معلومات تفصيلية**: رقم العمارة، نوع الوحدة، السعر الإجمالي

### 👥 إدارة العملاء والشركاء
- **بيانات العملاء**: معلومات شاملة مع نظام ترقيم فريد
- **إدارة الشركاء**: نظام متطور لإدارة الشركاء ونسب الملكية
- **مجموعات الشركاء**: تنظيم الشركاء في مجموعات حسب المشاريع

### 📄 نظام العقود والأقساط
- **إنشاء العقود**: واجهة سهلة لإنشاء العقود مع حساب تلقائي للأقساط
- **أنواع الدفع**: شهري، ربع سنوي، سنوي
- **جدولة الأقساط**: توليد تلقائي لجدول الأقساط مع تواريخ الاستحقاق
- **تتبع الحالة**: مدفوع، متأخر، في الانتظار

### 💰 النظام المالي المتكامل
- **الخزائن**: إدارة الخزينة الرئيسية والفرعية
- **محافظ الشركاء**: نظام محافظ منفصل لكل شريك
- **سندات القبض والصرف**: إدارة شاملة للمعاملات المالية
- **التوزيع التلقائي**: توزيع المبالغ على الشركاء حسب نسب الملكية

### 🔄 نظام التسويات
- **التسوية التلقائية**: حساب تلقائي للتسويات بين الشركاء
- **توازن المصروفات**: ضمان العدالة في توزيع المصروفات
- **تقارير التسوية**: تقارير مفصلة لكل عملية تسوية

### 🏗️ إدارة المقاولات والمشاريع
- **المشاريع**: إنشاء، صيانة، تجديد
- **إدارة المخزون**: تتبع المواد والكميات
- **حركات المواد**: وارد، صادر، تحويل
- **ميزانية المشاريع**: تتبع التكاليف مقابل الميزانية

### 📊 التقارير والإشعارات
- **تقارير شاملة**: أقساط، خزائن، مصروفات، تسويات، مقاولات
- **إشعارات ذكية**: تنبيهات تأخر الأقساط، اقتراب المواعيد، نقص المخزون
- **تنبيهات الميزانية**: إنذار عند تجاوز ميزانية المشاريع

## 🛠️ التقنيات المستخدمة

### Frontend
- **Next.js 14**: أحدث إصدار مع App Router
- **React 18**: مع أحدث المميزات
- **TypeScript**: للكتابة الآمنة
- **Tailwind CSS**: للتصميم الحديث والمرن
- **Radix UI**: مكونات UI متقدمة ومتاحة
- **Framer Motion**: للحركات والتأثيرات

### Backend
- **Prisma ORM**: للتعامل مع قاعدة البيانات
- **PostgreSQL**: قاعدة بيانات قوية وموثوقة
- **Next.js API Routes**: API سريع ومتكامل
- **React Query**: لإدارة حالة الخادم

### المكتبات المساعدة
- **Decimal.js**: للحسابات المالية الدقيقة
- **date-fns**: لمعالجة التواريخ
- **Zod**: للتحقق من البيانات
- **Zustand**: لإدارة الحالة العامة

## 🚀 التثبيت والتشغيل

### المتطلبات الأساسية
- Node.js 18+ 
- PostgreSQL 14+
- npm أو yarn

### خطوات التثبيت

1. **استنساخ المشروع**
   ```bash
   git clone <repository-url>
   cd accounting-system
   ```

2. **تثبيت التبعيات**
   ```bash
   npm install
   ```

3. **إعداد قاعدة البيانات**
   ```bash
   # إنشاء ملف .env من المثال
   cp .env.example .env
   
   # تعديل DATABASE_URL في ملف .env
   # DATABASE_URL="postgresql://username:password@localhost:5432/accounting_system"
   ```

4. **إنشاء قاعدة البيانات وزراعة البيانات**
   ```bash
   npx prisma db push
   npx prisma db seed
   ```

5. **تشغيل التطبيق**
   ```bash
   npm run dev
   ```

6. **فتح التطبيق**
   - افتح المتصفح على: `http://localhost:3000`

## 📁 هيكل المشروع

```
accounting-system/
├── app/                    # صفحات Next.js 14
│   ├── api/               # API Routes
│   ├── clients/           # صفحات العملاء
│   ├── contracts/         # صفحات العقود
│   ├── installments/      # صفحات الأقساط
│   └── ...
├── components/            # المكونات القابلة لإعادة الاستخدام
│   ├── ui/               # مكونات UI الأساسية
│   ├── dashboard/        # مكونات لوحة التحكم
│   └── ...
├── lib/                   # المكتبات المساعدة
│   ├── prisma.ts         # إعداد Prisma
│   ├── calculations.ts   # حسابات النظام
│   └── utils.ts          # مساعدات عامة
├── prisma/               # إعدادات قاعدة البيانات
│   ├── schema.prisma     # نموذج البيانات
│   └── seed.ts           # بيانات تجريبية
└── ...
```

## 🔧 الأوامر المتاحة

```bash
# التطوير
npm run dev              # تشغيل في وضع التطوير
npm run build           # بناء للإنتاج
npm run start           # تشغيل الإنتاج

# قاعدة البيانات
npm run db:push         # رفع التغييرات لقاعدة البيانات
npm run db:migrate      # إنشاء migration جديد
npm run db:studio       # فتح Prisma Studio
npm run db:seed         # زراعة البيانات التجريبية

# أخرى
npm run lint            # فحص الكود
npm run type-check      # فحص TypeScript
```

## 📝 الاستخدام

### إنشاء عميل جديد
1. اذهب إلى صفحة "العملاء"
2. اضغط "إضافة عميل جديد"
3. املأ البيانات المطلوبة
4. احفظ العميل

### إنشاء عقد جديد
1. اذهب إلى صفحة "العقود"
2. اضغط "إنشاء عقد جديد"
3. اختر العميل والوحدة
4. حدد تفاصيل الدفع
5. سيتم توليد جدول الأقساط تلقائياً

### تسجيل دفعة
1. اذهب إلى صفحة "الأقساط"
2. اختر القسط المراد دفعه
3. اضغط "تسجيل دفعة"
4. سيتم توزيع المبلغ على الشركاء تلقائياً

## 🔒 الأمان

- **التحقق من البيانات**: استخدام Zod للتحقق من صحة البيانات
- **الحماية من SQL Injection**: Prisma ORM يوفر حماية تلقائية
- **التحقق من الصلاحيات**: نظام صلاحيات متقدم (قريباً)

## 🎨 التخصيص

### الألوان والثيمات
- يدعم النظام الوضع الفاتح والداكن
- ألوان قابلة للتخصيص في `tailwind.config.js`
- متغيرات CSS في `globals.css`

### إضافة مميزات جديدة
- هيكل مرن يسمح بإضافة مكونات جديدة بسهولة
- API متوسع يدعم العمليات الجديدة
- نموذج قاعدة بيانات قابل للتطوير

## 🐛 الإبلاغ عن الأخطاء

إذا واجهت أي مشاكل، يرجى:
1. التأكد من تشغيل قاعدة البيانات
2. فحص ملف `.env`
3. مراجعة console للأخطاء
4. إنشاء issue جديد مع تفاصيل المشكلة

## 📞 الدعم

للحصول على المساعدة:
- مراجعة الوثائق
- فحص الأمثلة في المجلد `examples/`
- الاتصال بفريق التطوير

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف `LICENSE` للتفاصيل.

---

**نظام إدارة محاسبي حديث وشامل** - نظام متكامل لإدارة العقارات والحسابات 🏢💰